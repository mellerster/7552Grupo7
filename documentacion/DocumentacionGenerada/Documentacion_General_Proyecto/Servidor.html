<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Servidor &mdash; MensajerO 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MensajerO 1.0 documentation" href="index.html" />
    <link rel="next" title="Base de datos" href="Database.html" />
    <link rel="prev" title="Pantallas Cliente" href="Pantallas_Cliente.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Database.html" title="Base de datos"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Pantallas_Cliente.html" title="Pantallas Cliente"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MensajerO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="servidor">
<h1>Servidor<a class="headerlink" href="#servidor" title="Permalink to this headline">¶</a></h1>
<p>El servidor provee una interfaz REST para que los distintos clientes puedan comunicarse entre si.</p>
<div class="section" id="funciones">
<h2>Funciones<a class="headerlink" href="#funciones" title="Permalink to this headline">¶</a></h2>
<p>El servidor debe ser capaz de cumplir un número de funciones; estan son:</p>
<ul class="simple">
<li>Servicio de Autenticación</li>
<li>Servicio de registración de usuarios</li>
<li>Servicio para delivery de conversaciones</li>
<li>Servicio para delivery de difusión</li>
<li>Almacenamiento de conversaciones</li>
<li>Servicio de consulta de usuarios disponibles</li>
<li>Checkin de usuarios</li>
<li>Servicio de administración de perfíl de usuario.</li>
</ul>
</div>
<div class="section" id="diseno">
<h2>Diseño<a class="headerlink" href="#diseno" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id1">
<img alt="_images/server_diagramV2.png" src="_images/server_diagramV2.png" />
<p class="caption"><span class="caption-text">Diagrama del servidor (v3)</span></p>
</div>
<p>En la figura se muestra el diseño del servidor y sus partes mas importantes; estas son detalladas a continuación:</p>
<div class="section" id="mangostar-server">
<h3>Mangostar server<a class="headerlink" href="#mangostar-server" title="Permalink to this headline">¶</a></h3>
<p>Basado en <em>mongoose</em>, es el servidor web encargado de recibir los pedidos y enrutarlos hacia los componentes del sistema capaz de llevarlos a cabo.</p>
<p>Tiene una clase derivaba que extiende la clase base agregandole capacidades multi-threading.</p>
</div>
<div class="section" id="request-handler-factory">
<h3>Request handler Factory<a class="headerlink" href="#request-handler-factory" title="Permalink to this headline">¶</a></h3>
<p>Es un componente que instancia los manejadores especificos de cada tipo de pedido; por ejemplo: si se recibe un pedido de listar usuarios la <em>Factory</em> se encarga de instanciar un <em>Request Handler</em> de <em>List Users</em>.</p>
<div class="section" id="request-handlers">
<h4>Request handlers<a class="headerlink" href="#request-handlers" title="Permalink to this headline">¶</a></h4>
<p>Una clase base que define las operaciones de todos los manejadores.</p>
<p>Los diversos tipos de pedidos definidos en el servidor son:</p>
<ul class="simple">
<li><strong>Login Request handler</strong>: Permite que un cliente inicie una sesión con el servidor.</li>
<li><strong>Logout Request handler</strong>: Permite que un cliente cierre una sesión con el servidor.</li>
<li><strong>List Users Request handler</strong>: Devuelve al cliente una lista con todos los usuarios que actualmente tienen una sesión activa en el servidor.</li>
<li><strong>User Sign Up Request handler</strong>: Permite que un nuevo usuario se registre en el sistema.</li>
<li><strong>Edit Perfil handler</strong>: Permite que un usuario del sistema modifique los datos que se muestran en su perfil.</li>
<li><strong>Checkin handler</strong>: Tiene una doble función; guarda la ubucación del usuario y devuelve una descripción del punto conocido mas cercano.</li>
<li><strong>Broadcast handler</strong>: Permite que un usuario del sistema envie un mensaje a todos los usuarios conectados.</li>
<li><strong>Conversation Request handler</strong>: Permite obtener todos los mensajes de una conversación.</li>
<li><strong>List Conversations Request handler</strong>: Permite obtener el listado de conversaciones de un usuario logueado.</li>
<li><strong>Message Request handler</strong>: Permite obtener todos los mensajes que no han sido leidos por el usuario logueado.</li>
<li><strong>Send Message handler</strong>: Permite al usuario logueado enviar un mensaje a otro usuario del sistema.</li>
</ul>
</div>
<div class="section" id="authentication-handler">
<h4>Authentication handler<a class="headerlink" href="#authentication-handler" title="Permalink to this headline">¶</a></h4>
<p>Un tipo especial de manejador de pedidos; tiene la funcionalidad de validar que el cliente tenga acceso al recurso que esta pidiendo. Esto es: No permitiria que un cliente sin sesión envie mensajes.</p>
</div>
</div>
<div class="section" id="data-service">
<h3>Data Service<a class="headerlink" href="#data-service" title="Permalink to this headline">¶</a></h3>
<p>Su objetivo es permitir el almacenamiento y la recuperación de los datos utilizados por el sistema.</p>
<p>Debido al costo que implican estas operaciones, el <strong>Data Service</strong> esta dividido en varias partes:</p>
<ul class="simple">
<li><em>IDataService</em>: Una interfaz que define las operaciones con los datos.</li>
<li><em>DataService</em>: Una implementación de la anterior interfaz.</li>
<li><em>IRocaDB</em>: Una interfaz que define las operaciones relacionadas con la base de datos.</li>
<li><em>RocaDB</em>: Una implementación de la anterior interfaz.</li>
<li><em>SessionHandler</em>: Un clase &#8220;helper&#8221; que se encarga del manejo de las sesiones de los usuarios.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Servidor</a><ul>
<li><a class="reference internal" href="#funciones">Funciones</a></li>
<li><a class="reference internal" href="#diseno">Diseño</a><ul>
<li><a class="reference internal" href="#mangostar-server">Mangostar server</a></li>
<li><a class="reference internal" href="#request-handler-factory">Request handler Factory</a><ul>
<li><a class="reference internal" href="#request-handlers">Request handlers</a></li>
<li><a class="reference internal" href="#authentication-handler">Authentication handler</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-service">Data Service</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Pantallas_Cliente.html"
                        title="previous chapter">Pantallas Cliente</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Database.html"
                        title="next chapter">Base de datos</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Servidor.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Database.html" title="Base de datos"
             >next</a> |</li>
        <li class="right" >
          <a href="Pantallas_Cliente.html" title="Pantallas Cliente"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MensajerO 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Grupo-7.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>